<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–¢—Ä–µ–Ω–∞–∂—ë—Ä ‚Äî Frontend English Trainer</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Frontend + English</h1>
    <nav>
      <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="trainer.html">–¢—Ä–µ–Ω–∞–∂—ë—Ä</a>
    </nav>
    <button id="themeToggle">üåô</button>
  </header>

  <main class="trainer">
    <h2>–¢—Ä–µ–Ω–∞–∂—ë—Ä –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–º —Å–ª–æ–≤–∞–º</h2>
    <p class="hint">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —Å–ª–æ–≤–æ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è.</p>

    <button id="newWordBtn" class="btn btn-primary">–ù–æ–≤–æ–µ —Å–ª–æ–≤–æ</button>

    <div id="wordDisplay">
  <h3 id="englishWord">---</h3>
  <button id="speakBtn" title="–ü—Ä–æ–∏–∑–Ω–µ—Å—Ç–∏ —Å–ª–æ–≤–æ" aria-label="–ü—Ä–æ–∏–∑–Ω–µ—Å—Ç–∏ —Å–ª–æ–≤–æ">üîä</button>
  <p id="transcription">---</p>
  <p id="translation">---</p>
</div>

  </main>

  <footer>
    <p>¬© 2025 Frontend English Trainer</p>
  </footer>

  <!-- —Ç–≤–æ–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã –∏ –ø—Ä–æ—á–µ–µ -->
  <script src="app.js"></script>

  <!-- –õ–æ–∫–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç—Ä–µ–Ω–∞–∂—ë—Ä–∞ -->
  <script>
    // –°–ª–æ–≤–∞—Ä—å: —Å–ª–æ–≤–æ + —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è + –ø–µ—Ä–µ–≤–æ–¥
    const dictionary = [
      { en: "function",  transcription: "/Ààf å≈ãk Én/",     ru: "—Ñ—É–Ω–∫—Ü–∏—è" },
      { en: "variable",  transcription: "/Ààve…ôri…ôbl/",   ru: "–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è" },
      { en: "loop",      transcription: "/luÀêp/",        ru: "—Ü–∏–∫–ª" },
      { en: "array",     transcription: "/…ôÀàre…™/",       ru: "–º–∞—Å—Å–∏–≤" },
      { en: "object",    transcription: "/Àà…íbd í…™kt/",    ru: "–æ–±—ä–µ–∫—Ç" },
      { en: "string",    transcription: "/str…™≈ã/",       ru: "—Å—Ç—Ä–æ–∫–∞" },
      { en: "number",    transcription: "/Ààn åmb…ô/",      ru: "—á–∏—Å–ª–æ" },
      { en: "boolean",   transcription: "/ÀàbuÀêliÀê…ôn/",   ru: "–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ" },
      { en: "return",    transcription: "/r…™Ààt…úÀên/",     ru: "–≤–µ—Ä–Ω—É—Ç—å" },
      { en: "condition", transcription: "/k…ônÀàd…™ Én/",    ru: "—É—Å–ª–æ–≤–∏–µ" }
    ];

    // –£–∑–ª—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    const englishWord   = document.getElementById("englishWord");
    const transcription = document.getElementById("transcription");
    const translation   = document.getElementById("translation");
    const newWordBtn    = document.getElementById("newWordBtn");

    function pickRandomWord() {
      const i = Math.floor(Math.random() * dictionary.length);
      const item = dictionary[i];
      englishWord.textContent   = item.en;
      transcription.textContent = item.transcription || "";
      translation.textContent   = item.ru || "";
    }

    newWordBtn.addEventListener("click", pickRandomWord);

    // –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ-–Ω–∏–±—É–¥—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    pickRandomWord();
  </script>

<script>
  // --- –û–∑–≤—É—á–∫–∞ —Å–ª–æ–≤–∞ ---
  const speakBtn = document.getElementById('speakBtn');

  let voices = [];
  function loadVoices() {
    voices = window.speechSynthesis.getVoices() || [];
  }
  // –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç –≥–æ–ª–æ—Å–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
  window.speechSynthesis.onvoiceschanged = loadVoices;
  loadVoices();

  function speak(text) {
    if (!text) return;
    const utter = new SpeechSynthesisUtterance(text);

    // –ü—ã—Ç–∞–µ–º—Å—è –≤—ã–±—Ä–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –≥–æ–ª–æ—Å
    const enVoice =
      voices.find(v => v.lang?.toLowerCase().startsWith('en-')) || null;
    if (enVoice) utter.voice = enVoice;

    utter.lang = enVoice?.lang || 'en-US';
    utter.rate = 0.95;   // —Å–∫–æ—Ä–æ—Å—Ç—å (0.1‚Äì10)
    utter.pitch = 1.0;   // —Ç–æ–Ω (0‚Äì2)
    utter.volume = 1.0;  // –≥—Ä–æ–º–∫–æ—Å—Ç—å (0‚Äì1)

    window.speechSynthesis.cancel(); // —Å–±—Ä–æ—Å, –µ—Å–ª–∏ —É–∂–µ —á—Ç–æ-—Ç–æ –∏–≥—Ä–∞–µ—Ç
    window.speechSynthesis.speak(utter);
  }

  speakBtn.addEventListener('click', () => {
    const word = document.getElementById('englishWord')?.textContent?.trim();
    speak(word);
  });
</script>


</body>
</html>
